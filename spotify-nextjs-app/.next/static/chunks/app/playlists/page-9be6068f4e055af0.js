(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[468],{7993:function(e,t,s){Promise.resolve().then(s.bind(s,8152))},8152:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return n}});var l=s(7437),r=s(2265),i=s(9376),a=s(3145);function n(){let[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(!0),[c,o]=(0,r.useState)(!1),m=(0,i.useRouter)();return((0,r.useEffect)(()=>{(async()=>{let e=localStorage.getItem("spotify_access_token");if(!e){m.replace("/");return}try{if(!(await fetch("https://api.spotify.com/v1/me",{headers:{Authorization:"Bearer ".concat(e)}})).ok){localStorage.removeItem("spotify_access_token"),m.replace("/");return}let s=await fetch("https://api.spotify.com/v1/me/playlists?limit=50",{headers:{Authorization:"Bearer ".concat(e)}});if(!s.ok)throw Error("Failed to fetch playlists");let l=(await s.json()).items.sort((e,t)=>e.name.localeCompare(t.name));t(l)}catch(e){console.error("Error:",e),localStorage.removeItem("spotify_access_token"),m.replace("/")}finally{n(!1)}})()},[m]),s)?(0,l.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,l.jsx)("div",{className:"text-white/80 text-lg",children:"Loading your library..."})}):(0,l.jsxs)("div",{className:"min-h-screen bg-black",children:[(0,l.jsxs)("div",{className:"w-full bg-black/95 backdrop-blur-sm sticky top-0 z-10 p-4 border-b border-zinc-800 flex justify-between items-center",children:[(0,l.jsx)("h1",{className:"text-white text-2xl font-bold",children:"Your Library"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("button",{onClick:()=>o(!c),className:"text-white p-2 hover:bg-zinc-800/60 rounded-full",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16m-7 6h7"})})}),c&&(0,l.jsx)("div",{className:"absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-zinc-800 ring-1 ring-black ring-opacity-5",children:(0,l.jsxs)("div",{className:"py-1",role:"menu","aria-orientation":"vertical",children:[(0,l.jsx)("button",{className:"block px-4 py-2 text-sm text-white hover:bg-zinc-700 w-full text-left",role:"menuitem",children:"Playlists"}),(0,l.jsx)("button",{className:"block px-4 py-2 text-sm text-white hover:bg-zinc-700 w-full text-left",role:"menuitem",children:"Artists"}),(0,l.jsx)("button",{className:"block px-4 py-2 text-sm text-white hover:bg-zinc-700 w-full text-left",role:"menuitem",children:"Albums"})]})})]})]}),(0,l.jsx)("div",{className:"overflow-y-auto mt-16",children:(0,l.jsx)("ul",{className:"flex flex-col gap-2 p-4",children:e.map(e=>{var t,s;return(0,l.jsxs)("li",{className:"flex items-start w-full bg-zinc-800/30 hover:bg-zinc-800/60 transition-all duration-300 cursor-pointer rounded-md p-2",children:[(0,l.jsx)("div",{className:"w-12 h-12 relative flex-shrink-0 mr-3",children:(null===(s=e.images)||void 0===s?void 0:null===(t=s[0])||void 0===t?void 0:t.url)?(0,l.jsx)(a.default,{src:e.images[0].url,alt:e.name,width:48,height:48,className:"rounded-md object-cover"}):(0,l.jsx)("div",{className:"w-12 h-12 bg-zinc-700 rounded-md flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-white/60 text-xs",children:"No Cover"})})}),(0,l.jsxs)("div",{className:"flex flex-col justify-center min-w-0",children:[(0,l.jsx)("h2",{className:"text-white text-sm font-medium truncate",children:e.name}),(0,l.jsxs)("div",{className:"flex items-center text-zinc-400 text-xs mt-0.5",children:[(0,l.jsx)("span",{className:"truncate",children:"Playlist"}),(0,l.jsx)("span",{className:"mx-1",children:"â€¢"}),(0,l.jsxs)("span",{children:[e.tracks.total," tracks"]})]})]})]},e.id)})})})]})}}},function(e){e.O(0,[785,971,117,744],function(){return e(e.s=7993)}),_N_E=e.O()}]);